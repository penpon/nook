# TASK-008: README.md技術ドキュメントの充実

## タスク概要: README.mdに技術的な詳細情報を追加し、開発者向けドキュメントを充実させる

## 変更予定ファイル:
- README.md

## 前提タスク: TASK-006（正確な機能一覧が必要）

## worktree名: worktrees/TASK-008-readme-tech-docs

## 作業内容:

### 1. アーキテクチャ図の追加
技術スタックセクションの後に追加：

```markdown
## システムアーキテクチャ

```
┌─────────────────────────────────────────────────────────────────┐
│                          ユーザーブラウザ                           │
└─────────────────────────────┬───────────────────────────────────┘
                              │ HTTP/HTTPS
┌─────────────────────────────┴───────────────────────────────────┐
│                      nginx (リバースプロキシ)                      │
│                        - BASIC認証                               │
│                        - 静的ファイル配信                          │
└─────────────┬───────────────────────────────┬───────────────────┘
              │                               │
    ┌─────────┴──────────┐         ┌─────────┴──────────┐
    │  Frontend (React)  │         │ Backend (FastAPI)  │
    │  - Vite dev server │         │  - Uvicorn server  │
    │  - Port 3000       │         │  - Port 8000       │
    └────────────────────┘         └─────────┬──────────┘
                                             │
                    ┌────────────────────────┴────────────────────┐
                    │              外部APIサービス                   │
                    │  - OpenAI API (GPT-4)                       │
                    │  - Reddit API                               │
                    │  - OpenWeatherMap API                       │
                    │  - 各種Webサイト (スクレイピング)              │
                    └────────────────────────┬────────────────────┘
                                             │
                    ┌────────────────────────┴────────────────────┐
                    │            ローカルストレージ                  │
                    │         data/ディレクトリ構造                 │
                    │  - 各サービスごとのJSONファイル               │
                    │  - API使用量ログ                            │
                    └─────────────────────────────────────────────┘
```

### 2. セキュリティ考慮事項セクションの追加
インフラセクションの後に追加：

```markdown
## セキュリティ考慮事項

### APIキー管理
- **環境変数での管理**: `.env`ファイルは`.gitignore`に含まれており、リポジトリには含まれません
- **本番環境**: `.env.production`を使用し、適切なファイルパーミッション（600）を設定
- **ローテーション**: 定期的なAPIキーの更新を推奨

### アクセス制御
- **BASIC認証**: nginx レベルでの認証実装
- **認証情報の生成**: `setup.sh`実行時に自動生成される`.htpasswd`ファイル
- **HTTPS設定**: 本番環境では以下の手順でHTTPS化を推奨
  ```bash
  # Let's Encrypt を使用したSSL証明書の取得例
  sudo certbot --nginx -d your-domain.com
  ```

### データ保護
- **ローカルストレージ**: 収集データは全てローカルに保存
- **外部送信なし**: ユーザーデータの外部送信は行いません
- **定期削除**: 古いデータの定期的な削除スクリプトの実装を推奨

### 依存関係のセキュリティ
```bash
# 依存関係の脆弱性チェック
pip audit
npm audit

# 定期的なアップデート
uv pip install --upgrade -r requirements.txt
npm update
```
```

### 3. パフォーマンス・制限事項セクションの追加

```markdown
## パフォーマンスと制限事項

### 推奨スペック
- **CPU**: 2コア以上
- **メモリ**: 4GB以上
- **ストレージ**: 10GB以上の空き容量

### API使用量の目安
- **OpenAI API**: 
  - 1日あたり約1,000〜5,000トークン（設定により変動）
  - 月間コスト目安: $5〜20 USD
- **Reddit API**: 
  - レート制限: 60リクエスト/分
  - 1日の推奨実行回数: 2〜4回

### スケーラビリティ
- **同時接続数**: nginx設定により調整可能（デフォルト: 100接続）
- **データ保持期間**: デフォルトで30日分のデータを保持
- **処理時間**: 全サービス実行に約5〜10分（ネットワーク状況による）

### 既知の制限
- 大量のデータ取得時はAPI制限に注意
- 同時実行は1インスタンスのみ推奨
- WebスクレイピングはサイトのTOSを遵守
```

### 4. 開発者向け情報の整理
既存の内容を整理し、新規セクションを追加：

```markdown
## 開発者向け情報

### 新しい情報ソースの追加方法
1. `nook/services/`に新しいサービスディレクトリを作成
2. 基底クラス`BaseService`を継承したクラスを実装
3. `run_services.py`にサービスを登録
4. フロントエンドのソース一覧に追加

### コードスタイル
- Python: PEP 8準拠、型ヒント使用推奨
- TypeScript: ESLint設定に従う
- コミット: [CLAUDE.md](./CLAUDE.md)のコミット規約を参照

### テスト
```bash
# バックエンドテスト
pytest tests/

# フロントエンドテスト
cd nook/frontend && npm test

# E2Eテスト（今後実装予定）
```
```

## 完了条件:
- アーキテクチャ図が追加されている
- セキュリティ考慮事項が明記されている
- パフォーマンスと制限事項が記載されている
- 開発者向け情報が整理されている